<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1358168892530" ID="ID_357368785" MODIFIED="1358168907049" TEXT="kernel">
<node CREATED="1358168976157" ID="ID_543601139" MODIFIED="1358168983352" POSITION="right" TEXT="_start">
<node CREATED="1358169020895" ID="ID_1368492631" MODIFIED="1358169051727" TEXT="prepare kernel stack"/>
<node CREATED="1358169067337" ID="ID_1531180973" MODIFIED="1358169074350" TEXT="store GDT"/>
<node CREATED="1358169055288" ID="ID_283929699" MODIFIED="1358169058492" TEXT="cstart">
<node CREATED="1358169314168" ID="ID_1295698547" MODIFIED="1358169323957" TEXT="prepare new GDT"/>
<node CREATED="1358169326689" ID="ID_1561302150" MODIFIED="1358169336150" TEXT="protect mode">
<node CREATED="1358169396160" ID="ID_1659932811" MODIFIED="1358169411158" TEXT="init 8259A"/>
<node CREATED="1358169483790" ID="ID_438559062" MODIFIED="1358169491277" TEXT="init exception"/>
<node CREATED="1358169491669" ID="ID_1711389922" MODIFIED="1358169506011" TEXT="init maskable interrupt"/>
<node CREATED="1358169751066" ID="ID_445798570" MODIFIED="1358169757156" TEXT="prepare tss"/>
<node CREATED="1358169758020" ID="ID_1843176153" MODIFIED="1358169903428" TEXT="prepare process LDT"/>
</node>
</node>
<node CREATED="1358169075770" ID="ID_99169230" MODIFIED="1358169080684" TEXT="load GDT"/>
<node CREATED="1358170219912" ID="ID_1273434533" MODIFIED="1358170246058" TEXT="load IDT(! not LDT)"/>
<node CREATED="1358169109774" ID="ID_24541694" MODIFIED="1358169112192" TEXT="load TSS"/>
<node CREATED="1358169126273" ID="ID_458922339" MODIFIED="1358169130923" TEXT="kernel main">
<node CREATED="1358170320250" ID="ID_1427721066" MODIFIED="1358170327356" TEXT="init proc table"/>
<node CREATED="1358170401359" ID="ID_1485246001" MODIFIED="1358170404976" TEXT="restart">
<node CREATED="1358170433558" ID="ID_1719813226" MODIFIED="1358170445969" TEXT="mov esp, [g_proc_ready]"/>
<node CREATED="1358170833638" ID="ID_727677799" MODIFIED="1358170853399" TEXT="proc table as stack, pop all"/>
<node CREATED="1358170863601" ID="ID_1381330505" MODIFIED="1358170895565" TEXT="iretd, first process run">
<node CREATED="1358170972843" ID="ID_1911751182" MODIFIED="1358170985932" TEXT="ring0 to ring1"/>
</node>
</node>
</node>
</node>
<node CREATED="1358170904513" ID="ID_1138846153" MODIFIED="1358170910507" POSITION="right" TEXT="interrupt">
<node CREATED="1358171049100" ID="ID_1339049914" MODIFIED="1358171051583" TEXT="clock">
<node CREATED="1358173351080" ID="ID_497426351" MODIFIED="1358173363296" TEXT="ring1 to ring0">
<node CREATED="1358173380565" ID="ID_459396631" MODIFIED="1358173399280" TEXT="tss sp0 is top of proc table"/>
</node>
<node CREATED="1358173298807" ID="ID_1430469884" MODIFIED="1358173322305" TEXT="push reg in stack(actually it is proc table)"/>
<node CREATED="1358173563009" ID="ID_1449192722" MODIFIED="1358173572221" TEXT="switch stack to kernel"/>
<node CREATED="1358173632947" ID="ID_1013669198" MODIFIED="1358173647244" TEXT="switch stack to next proc table"/>
<node CREATED="1358173434375" ID="ID_1575339968" MODIFIED="1358173442282" TEXT="prepare tss sp0"/>
<node CREATED="1358173479790" ID="ID_51823861" MODIFIED="1358173489693" TEXT="pop reg in stack"/>
</node>
</node>
</node>
</map>
